(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1624:function(t,e,n){var content=n(1970);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("1d27e515",content,!0,{sourceMap:!1})},1969:function(t,e,n){"use strict";n(1624)},1970:function(t,e,n){var o=n(13)((function(i){return i[1]}));o.push([t.i,".headers-divider[data-v-15e7fae0]{background-color:var(--v-neutrals-40-base);border:0;border-radius:3px;border-width:thin;height:3px;margin:0}",""]),o.locals={},t.exports=o},2064:function(t,e,n){"use strict";n.r(e);n(9),n(8),n(10),n(11),n(7),n(6);var o=n(1),r=n(12),l=(n(29),n(30),n(2),n(38),n(1224)),c=n(1291),d=n(1639),h=n(1641),f=n(1643),m=n(1656),v=n(292),w=n(1644),x=n(1512),C=n(1216),_=n(1295),y=n(207),A=n(1296),S=n(20);function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k={mixins:[_.a,y.a,A.a],middleware:["_core/authenticated","ignore-app","app"],layout:"app/index",components:{ADefaultListResponsive:l.a,HeaderQC:v.a,QuestionCard:m.a,QuestionPagination:w.a,QuestionsMap:x.a,Modal:f.a,Container:c.a,FixedButtonsAvaliation:h.a,SendActivitySummary:d.a,vRuntimeShellWrapper:C.a},data:function(){return{localQuestions:[],attachments:[],finishDialog:!1,questionsMapHandler:!1}},meta:{useLayoutV2:!0},created:function(){window.addEventListener("beforeunload",this.showClosingAlert)},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t.modals.showFinish||t.timeout)&&(t.finishDialog=!0),t.blockTextSelection(),t.accessibilityTextReaderHandler(),t.socketConnection=t.$nuxtSocket({persist:!0,reconnection:!0,teardown:!0}),e.next=6,t.started;case 6:if(!e.sent){e.next=8;break}t.$nuxt.$emit("startedApplication");case 8:t.SET_SETTINGS({leftIconSettings:{},textSettings:{},rightIconSettings:{}});case 9:case"end":return e.stop()}}),e)})))()},computed:T(T(T({},Object(S.mapState)({started:function(t){return t.app.started},questionCollection:function(t){return t.app.questionCollection},pageQuestion:function(t){return t.app.pageQuestion},loading:function(t){return t.app.loading},allowResume:function(t){return t.app.params.showResume},allowPagination:function(t){return t.app.params.showPagination},instructions:function(t){return t.app.questionCollection.instructions},modals:function(t){return t.app.modals},externalActivityRespondentContextId:function(t){return t.app.externalActivityRespondentContextId},externalActivityRespondentId:function(t){return t.app.id},idRespondentQuestionCollection:function(t){return t.app.idRespondentQuestionCollection},answers:function(t){return t.app.answers},isSavingAnswer:function(t){return t.app.isSavingAnswer},modalFinishState:function(t){return t.app.modals.showFinish}})),Object(S.mapGetters)({isProctoringEnabled:"app/isProctoringEnabled",currentTitle:"app/currentTitle",currentTarget:"app/currentTarget",currentQuestion:"app/currentQuestion",currentAnswer:"app/currentAnswer",questions:"app/allQuestions",totalQuestions:"app/totalQuestions",getTitle:"app/getTitle",getTarget:"app/getTarget",getQuestionCollectionAnswers:"app/getQuestionCollectionAnswers",timeout:"app/timeout",isImpersonated:"_core/auth/isImpersonated",isQuestionCollectionSourceAvalia:"app/isQuestionCollectionSourceAvalia"})),{},{currentPage:function(){return this.pageQuestion-1||0},questionCollectionHeaders:function(){var t=this;return this.filteredHeader(this.questionCollection.header,this.questionCollection.isGlobalized).map((function(e){return T(T({},e),{},{name:t.translateAndUppercase(e.name)})}))}}),methods:T(T(T({},Object(S.mapActions)({changePageQuestion:"app/changePageQuestion",closeApplication:"app/closeApplication",setQuestionCollectionAnswers:"app/setQuestionCollectionAnswers",__resetProctoring:"proctoring/__resetProctoring"})),Object(S.mapMutations)({SET_MODALS:"app/SET_MODALS",SET_SETTINGS:"_core/header/SET_SETTINGS",SET_EVENT:"_core/header/SET_EVENT"})),{},{blockTextSelection:function(){try{document.onselectstart=function(){return!1}}catch(t){}},accessibilityTextReaderHandler:function(){this.allowPagination&&this.$nuxt.$on("textReaderEnabled",(function(t){try{var e=t.elementId;document.getElementById(e).style.bottom="75px"}catch(t){}}))},openModalFinish:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.finishDialog=!0,t.SET_MODALS({showFinish:!1,showQuestions:!1,showAttachment:!1,showInstructions:!1});case 2:case"end":return e.stop()}}),e)})))()},onClickQuestions:function(){this.syncAnswers(),this.questionsMapHandler=!0},syncAnswers:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.externalActivityRespondentId&&!t.timeout&&t.setQuestionCollectionAnswers(t.externalActivityRespondentId);case 1:case"end":return e.stop()}}),e)})))()},openModalInstructions:function(){this.SET_MODALS({showInstructions:!0})},closeModalFinish:function(){this.SET_MODALS({showFinish:!1})},closeModalQuestions:function(){this.SET_MODALS({showQuestions:!1})},closeModalAttachment:function(){this.SET_MODALS({showAttachment:!1})},closeModalInstructions:function(){this.SET_MODALS({showInstructions:!1})},scrollToMapQuestions:function(){var t=document.getElementById("questions-map").offsetTop;document.getElementsByClassName("v-dialog--active")[0].scroll({top:t,behavior:"smooth"})},onClickQuestion:function(t){var e=t.sequence;this.changePageQuestion(e),this.questionsMapHandler=!1},checkTimeout:function(){this.timeout&&this.openModalFinish()},showClosingAlert:function(t){t.preventDefault(),t.returnValue=this.$t("questionCollection.closingAlert")},showConfirmFinishWithEmptyAnswers:function(){var t=this;return new Promise((function(e,n){try{var o="questionCollection.dialogConfirmFinish";t.$dialog.show({type:"warning",title:t.$t("".concat(o,".title")),message:t.$t("".concat(o,".message")),confirmButtonText:t.$t("".concat(o,".confirmText")),onConfirm:(l=Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.$dialog.hide(),n.abrupt("return",e(!0));case 2:case"end":return n.stop()}}),n)}))),function(){return l.apply(this,arguments)})})}catch(t){n(!1)}var l}))}}),watch:{timeout:function(){this.checkTimeout()},loading:function(){this.loading||this.checkTimeout()},finishDialog:function(t){t&&this.syncAnswers()},modalFinishState:function(t){this.$nextTick((function(){var e=document.querySelector(".pa-4.px-md-6.v-card.v-card--flat.v-sheet");null==e||e.classList.toggle("modal-finish-layout-adjustments",t)}))},questions:{handler:function(t){this.localQuestions=t},immediate:!0}},beforeDestroy:function(){window.postMessage({action:"proctorStop"}),this.__resetProctoring(),this.socketConnection.emit("Close"),window.removeEventListener("beforeunload",this.showClosingAlert),this.closeApplication()}},M=k,O=(n(1969),n(25)),E=n(28),P=n.n(E),I=n(442),D=n(449),component=Object(O.a)(M,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column full-width bg-10",staticStyle:{"min-height":"calc(100vh - 92px)",left:"0"}},[t.finishDialog?n("send-activity-summary",{staticClass:"full-width mt-6",on:{"close-dialog":function(e){t.finishDialog=!1}}}):n("div",{staticClass:"full-width flex-grow-1 d-flex flex-column"},[n("a-default-list-responsive",{staticClass:"px-4 pt-4 px-md-8 pt-md-6 flex-grow-1",attrs:{"data-test-id":"panel-activity-realization",title:t.questionCollection.name,loading:t.loading,"disable-headers":t.$vuetify.breakpoint.smAndUp,"disable-main-spacements":""}},[n("template",{slot:"headers"},[n("div",{staticClass:"d-flex flex-column gap-2"},t._l(t.questionCollectionHeaders,(function(header,i){return n("div",{key:i,staticClass:"d-flex gap-1"},[n("span",{staticClass:"text-800 font-weight-bold font-size-12 line-height-14"},[t._v("\n              "+t._s(header.name)+":\n            ")]),t._v(" "),n("span",{staticClass:"text-800 font-size-12 line-height-14"},[t._v("\n              "+t._s(header.value)+"\n            ")])])})),0)]),t._v(" "),n("template",{slot:"content"},[n("div",{staticClass:"px-6 py-4 mx-auto d-flex flex-column"},[t.$vuetify.breakpoint.smAndUp?n("div",{staticClass:"align-self-md-center"},[n("div",{staticClass:"d-flex flex-column flex-md-row flex-wrap gap-2"},t._l(t.questionCollectionHeaders,(function(header,i){return n("div",{key:i,staticClass:"d-flex gap-1"},[n("span",{staticClass:"text-800 font-weight-bold font-size-12 line-height-14"},[t._v("\n                  "+t._s(header.name)+":\n                ")]),t._v(" "),n("span",{staticClass:"text-800 font-size-12 line-height-14"},[t._v("\n                  "+t._s(header.value)+"\n                ")]),t._v(" "),i<t.questionCollectionHeaders.length-1&&t.$vuetify.breakpoint.mdAndUp?n("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}):t._e()],1)})),0),t._v(" "),n("hr",{staticClass:"headers-divider mt-4 mb-6"})]):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.modals.showFinish&&!t.timeout,expression:"!modals.showFinish && !timeout"}]},[t.allowPagination&&t.localQuestions.length?n("div",[n("question-card",{key:t.localQuestions[t.currentPage].externalQuestionId,attrs:{question:t.localQuestions[t.currentPage],title:t.getTitle(t.localQuestions[t.currentPage]),target:t.getTarget(t.localQuestions[t.currentPage]),answer:t.getAnswer(t.localQuestions[t.currentPage]),"read-only":t.isImpersonated,"is-saving-answer":t.isSavingAnswer}})],1):t._e(),t._v(" "),n("fixed-buttons-avaliation")],1)])]),t._v(" "),n("template",{slot:"footer"},[n("question-pagination",{attrs:{pagination:t.allowPagination,page:t.pageQuestion,"total-pages":t.totalQuestions,"change-page":t.changePageQuestion,"click-finish":t.openModalFinish,"disable-finish-button":t.isSavingAnswer},on:{"click-questions":t.onClickQuestions}})],1)],2),t._v(" "),n("modal",{attrs:{"is-open":t.modals.showAttachment,close:t.closeModalAttachment,title:t.$t("questionCollection.supportMaterials")}},t._l(t.attachments,(function(e,i){return n("div",{key:i,staticClass:"pa-5"},[n("div",[t._v("\n          "+t._s(e)+"\n        ")]),t._v(" "),n("v-divider",{staticClass:"my-6"})],1)})),0),t._v(" "),t.allowPagination?n("modal",{attrs:{"is-open":t.modals.showQuestions,close:t.closeModalQuestions,title:t.$tc("questionCollection.question.title",1)}},[n("div",{staticClass:"pa-5"},[n("QuestionsMap",{attrs:{hideTitle:""},on:{"click-question":t.onClickQuestion}})],1)]):t._e(),t._v(" "),n("modal",{attrs:{"is-open":t.modals.showInstructions,close:t.closeModalInstructions,title:t.$t("questionCollection.instructions.title"),description:t.$t("questionCollection.instructions.description")}},[n("HeaderQC",{attrs:{title:t.questionCollection.name,subheaders:t.filteredHeader(t.questionCollection.header,t.questionCollection.isGlobalized),titleClass:"text-subtitle-1 text-uppercase text-800",inline:"",modal:"",full:""}}),t._v(" "),n("v-runtime-shell-wrapper",{staticClass:"pa-5",attrs:{html:t.instructions}})],1),t._v(" "),n("v-navigation-drawer",{staticStyle:{"z-index":"100000"},attrs:{right:"",fixed:"",temporary:"",width:300},model:{value:t.questionsMapHandler,callback:function(e){t.questionsMapHandler=e},expression:"questionsMapHandler"}},[n("div",{staticClass:"mx-2 fill-height py-3"},[n("questions-map",{on:{"click-question":t.onClickQuestion,"click-footer":function(e){t.questionsMapHandler=!1}}})],1)])],1)],1)}),[],!1,null,"15e7fae0",null);e.default=component.exports;P()(component,{VDivider:I.a,VNavigationDrawer:D.a})}}]);